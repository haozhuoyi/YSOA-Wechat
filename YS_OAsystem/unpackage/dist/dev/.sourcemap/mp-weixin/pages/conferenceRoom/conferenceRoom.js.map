{"version":3,"sources":["uni-app:///main.js","webpack:////Users/haozhuoyi/YSOA-Wechat/YS_OAsystem/pages/conferenceRoom/conferenceRoom.vue?8345","webpack:////Users/haozhuoyi/YSOA-Wechat/YS_OAsystem/pages/conferenceRoom/conferenceRoom.vue?64f7","webpack:////Users/haozhuoyi/YSOA-Wechat/YS_OAsystem/pages/conferenceRoom/conferenceRoom.vue?66a4","webpack:////Users/haozhuoyi/YSOA-Wechat/YS_OAsystem/pages/conferenceRoom/conferenceRoom.vue?6879","uni-app:///pages/conferenceRoom/conferenceRoom.vue","webpack:////Users/haozhuoyi/YSOA-Wechat/YS_OAsystem/pages/conferenceRoom/conferenceRoom.vue?0946","webpack:////Users/haozhuoyi/YSOA-Wechat/YS_OAsystem/pages/conferenceRoom/conferenceRoom.vue?93de"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,uH;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAA6zB,CAAgB,4yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsDj1B,mD;AACA;AACA,0CADA;AAEA,MAFA,kBAEA;AACA;AACA,oBADA;AAEA,qBAFA;AAGA,mBAHA;AAIA,yBAJA;AAKA;AACA,cADA,EACA,QADA,EACA,QADA,EACA,QADA,CALA;AAOA,oBAPA;AAQA,kBARA;AASA,sBATA;AAUA,oBAVA;AAWA,uBAXA;AAYA,yBAZA;AAaA;AACA,uBAdA;AAeA;AACA,sBAhBA;;AAkBA,GArBA;AAsBA;AACA;AACA,qBAFA,+BAEA;AACA;AACA;AACA,6DADA;AAEA,eAFA,mBAEA,aAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA,SARA;AASA,YATA,gBASA,CATA,EASA;AACA;AACA;AACA,SAZA;;AAcA,KAlBA;AAmBA;AACA,aApBA,qBAoBA,aApBA,EAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA6BA;AACA,cA9BA,sBA8BA,aA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3CA;AA4CA;AACA,eA7CA,yBA6CA;AACA;AACA;AACA,qEADA;AAEA,sBAFA;AAGA;AACA,kCADA,EAHA;;AAMA;AACA,4BADA;AAEA,gCAFA;AAGA,+BAHA;AAIA,wBAJA;AAKA,8CALA,EANA;;AAaA,eAbA,mBAaA,aAbA,EAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArBA;AAsBA,YAtBA,gBAsBA,CAtBA,EAsBA;AACA;AACA;AACA,SAzBA;;AA2BA,KA1EA;AA2EA;AACA,kBA5EA,0BA4EA,SA5EA,EA4EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CADA;AAEA,qDAFA;;AAIA;AACA;AACA,KAzFA;AA0FA;AACA,wBA3FA,kCA2FA;AACA;AACA;AACA;AACA;AACA;AACA,kGADA;AAEA,qBAFA;AAGA;AACA,qDADA;AAEA,6CAFA,EAHA;;AAOA,eAPA,mBAOA,aAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;AAeA,YAfA,gBAeA,CAfA,EAeA;AACA;AACA;AACA,SAlBA;;AAoBA,KApHA;AAqHA;AACA,wBAtHA,gCAsHA,iBAtHA,EAsHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KA/HA;AAgIA;AACA,yBAjIA,iCAiIA,WAjIA,EAiIA;AACA;AACA;AACA,yBADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA,OAZA,EAYA,KAZA,CAYA;AACA;AACA,OAdA;AAeA,KAlJA;AAmJA;AACA,YApJA,oBAoJA,IApJA,EAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxKA;AAyKA,cAzKA,sBAyKA,CAzKA,EAyKA,IAzKA,EAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhLA;AAiLA,yBAjLA,mCAiLA;AACA;AACA;AACA;AACA;AACA,qFALA,CAKA;AACA,oEANA,CAMA;AACA;AACA;AACA,kEADA;AAEA,yCAFA;AAGA,gCAHA;AAIA,wCAJA;;AAMA,KA/LA;AAgMA;AACA,YAjMA,oBAiMA,IAjMA,EAiMA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAvMA,EAtBA;;AA+NA,QA/NA,kBA+NA,MA/NA,EA+NA;AACA;AACA,GAjOA;AAkOA,QAlOA,oBAkOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA3OA,E;;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAoqC,CAAgB,ymCAAG,EAAC,C;;;;;;;;;;;ACAxrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/conferenceRoom/conferenceRoom.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/conferenceRoom/conferenceRoom.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./conferenceRoom.vue?vue&type=template&id=75980fe6&\"\nvar renderjs\nimport script from \"./conferenceRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./conferenceRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./conferenceRoom.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/conferenceRoom/conferenceRoom.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conferenceRoom.vue?vue&type=template&id=75980fe6&\"","var components\ntry {\n  components = {\n    cmdProgress: function() {\n      return import(\n        /* webpackChunkName: \"components/cmd-progress/cmd-progress\" */ \"@/components/cmd-progress/cmd-progress.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.dateArray, function(item, i) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = !(i == 0) ? item[0].substring(3, 5) : null\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conferenceRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conferenceRoom.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"view-main\">\n\t\t<view id=\"target\" class=\"popup_success\" :style=\"{opacity: successOpacity}\">\n\t\t\t{{errorMessage}}\n\t\t</view>\n\t\t<view class=\"popup_view\" v-show=\"showPopFlg\">\n\t\t\t <cmd-progress type=\"circle\" :percent=\"loadPercent\" stroke-color=\"rgb(180,27,18)\"></cmd-progress>\n\t\t</view>\n\t\t<view class=\"view-dateList\">\n\t\t\t<view class=\"view-for\" v-for=\"(item,i) in dateArray\" :key=\"i\">\n\t\t\t\t<view class=\"view-item\">\n\t\t\t\t\t<view class=\"view-week\" :style=\"{ color: item[0][7] == '六'||item[0][7] == '日' ? 'rgb(180,27,18)' : '#898989' }\">\n\t\t\t\t\t\t{{item[0][7]}}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"view-date\">\n\t\t\t\t\t\t<view class=\"view-back\" @click=\"dateChange(i,item)\"\n\t\t\t\t\t\t:style=\"{backgroundColor:colorArray[i][0],color:colorArray[i][1]}\">\n\t\t\t\t\t\t\t{{i == 0 ? \"今\":item[0].substring(3,5)}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"view-point\">\n\t\t\t\t\t\t<view class=\"point\" v-if=\"item[1].length > 2\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"view-dateShow\">\n\t\t\t{{chooseDate}}\n\t\t</view>\n\t\t<view class=\"view-add\" @click=\"conferenceRoomAddJump()\">\n\t\t\t<uni-icons type=\"plusempty\" size=\"25\" color=\"#FFF\"></uni-icons>\n\t\t</view>\n\t\t<view class=\"view-conferenceInfo\">\n\t\t\t<list>\n\t\t\t    <!-- 注意事项: 不能使用 index 作为 key 的唯一标识 -->\n\t\t\t    <cell v-for=\"(item, index) in conferenceArray[showIndex]\" :key=\"item[0]\">\n\t\t\t\t\t<view class=\"view-info\"  v-if=\"item[0] !== 'add'\">\n\t\t\t\t\t\t<view class=\"view-time\">\n\t\t\t\t\t\t\t<uni-icons v-if=\"item[0] === 'red'\" type=\"flag-filled\" size=\"25\" color=\"rgb(180,27,18)\"></uni-icons>\n\t\t\t\t\t\t\t<view v-if=\"item[0] !== 'red'\">{{item[0] !== \"red\"?item[0] + ':':\"\"}}(UTC+09:00)东京</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"view-detail\">\n\t\t\t\t\t\t\t<view>{{item[1]}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</cell>\n\t\t\t</list>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport cmdProgress from \"@/components/cmd-progress/cmd-progress.vue\"\n\t// api\n\timport { makeCoferenceRoomDataApi} from './api.js'\n\texport default {\n\t\tcomponents: {cmdProgress},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloginToken:\"\",\n\t\t\t\tloginCookie:\"\",\n\t\t\t\tdateArray:[],\n\t\t\t\tconferenceArray:[],\n\t\t\t\tcolorArray:[['rgb(180,27,18)','#fff'],['',''],['',''],\n\t\t\t\t\t\t\t['',''],['',''],['',''],['','']],\n\t\t\t\tchooseDate:\"\",\n\t\t\t\tshowIndex:0,\n\t\t\t\tshowPopFlg:true,\n\t\t\t\tloadPercent:0,\n\t\t\t\trefreshFlg:false,\n\t\t\t\tapplySuccess:false,\n\t\t\t\t// 弹窗透明度\n\t\t\t\tsuccessOpacity:0,\n\t\t\t\t// 弹窗内容\n\t\t\t\terrorMessage:\"\",\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t// 获取cookie和token\n\t\t\tgetCookieAndToken(){\n\t\t\t\tconst that = this\n\t\t\t\twx.request({\n\t\t\t\t\turl: 'https://newoa.yshz.com.cn/api/wechat/getCybozu',\n\t\t\t\t\tsuccess(cybozuResults) {\n\t\t\t\t\t\tconsole.log(cybozuResults)\n\t\t\t\t\t\tthat.loginToken = that.tokenMake(cybozuResults)\n\t\t\t\t\t\tthat.loginCookie = that.cookieMake(cybozuResults) + \"CYBOZU_COM_DOMAIN=ys-group;\"\n\t\t\t\t\t\tthat.loadPercent = 20\n\t\t\t\t\t\tthat.cybozuLogin()\n\t\t\t\t\t},\n\t\t\t\t\tfail(e){\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t// that.requestError(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 处理token\n\t\t\ttokenMake(cybozuResults){\n\t\t\t\tlet tokenResult = \"\"\n\t\t\t\tlet tokenResults = cybozuResults.data[0]\n\t\t\t\tlet tokenIndex = tokenResults.indexOf(\"cybozu.data.REQUEST_TOKEN = '\")\n\t\t\t\ttokenIndex = tokenIndex + 29\n\t\t\t\ttokenResult = tokenResults.substring(tokenIndex,tokenIndex + 36)\n\t\t\t\tconsole.log(tokenResult)\n\t\t\t\treturn tokenResult\n\t\t\t},\n\t\t\t// 处理cookie\n\t\t\tcookieMake(cybozuResults){\n\t\t\t\tlet cookieArray = cybozuResults.data[1]\n\t\t\t\tlet cookie = \"\"\n\t\t\t\tfor(let i=0;i<cookieArray.length;i++){\n\t\t\t\t\tlet item = cookieArray[i]\n\t\t\t\t\tif(item.substring(0,10) === \"Set-Cookie\"){\n\t\t\t\t\t\tlet endIndex = item.indexOf(\";\")\n\t\t\t\t\t\tlet jsessionId = item.substring(11,endIndex + 1)\n\t\t\t\t\t\tcookie = cookie + jsessionId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(cookie)\n\t\t\t\treturn cookie\n\t\t\t},\n\t\t\t// cybozu登录\n\t\t\tcybozuLogin(){\n\t\t\t\tconst that = this\n\t\t\t\twx.request({\n\t\t\t\t\turl: 'https://ys-group.cybozu.com/api/auth/login.json?_lc=ja',\n\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\theader:{\n\t\t\t\t\t\tcookie:that.loginCookie\n\t\t\t\t\t},\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"username\":\"yshz\",\n\t\t\t\t\t\t\"password\":\"Yshz2020\",\n\t\t\t\t\t\t\"keepUsername\":false,\n\t\t\t\t\t\t\"redirect\":\"\",\n\t\t\t\t\t\t\"__REQUEST_TOKEN__\":that.loginToken\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(cybozuResults) {\n\t\t\t\t\t\tlet setCookie = cybozuResults.header[\"Set-Cookie\"]\n\t\t\t\t\t\tconsole.log(setCookie)\n\t\t\t\t\t\t// 保存cookie至storage\n\t\t\t\t\t\twx.setStorageSync(\"CYBOZUCOOKIE\", that.swapJsessionId(setCookie))\n\t\t\t\t\t\tthat.loadPercent = 40\n\t\t\t\t\t\t// 获取会议室网页数据\n\t\t\t\t\t\tthat.getCoferenceRoomData()\n\t\t\t\t\t},\n\t\t\t\t\tfail(e){\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t// that.requestError(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 将login cookie替换成user cookie\n\t\t\tswapJsessionId(setCookie){\n\t\t\t\tlet jsessionIndex = setCookie.indexOf(\"JSESSIONID\")\n\t\t\t\tlet endIndex = setCookie.indexOf(\";\",jsessionIndex) + 1\n\t\t\t\tlet userCookie = setCookie.substring(jsessionIndex,endIndex)\n\t\t\t\t\n\t\t\t\tlet oldJsessionIndex = this.loginCookie.indexOf(\"JSESSIONID\")\n\t\t\t\tlet oldEndIndex = setCookie.indexOf(\";\",oldJsessionIndex) + 3\n\t\t\t\tuserCookie = userCookie + \n\t\t\t\t\t\t\t\tthis.loginCookie.substring(oldEndIndex) + \n\t\t\t\t\t\t\t\tthis.loginCookie.substring(0,oldJsessionIndex)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\tconsole.log(userCookie)\n\t\t\t\treturn userCookie\n\t\t\t},\n\t\t\t// 获取会议室网页数据\n\t\t\tgetCoferenceRoomData(){\n\t\t\t\tconst that = this\n\t\t\t\t//获取现在时间\n\t\t\t\tlet aData = new Date();\n\t\t\t\tlet dateValue = aData.getFullYear() + \"-\" + (aData.getMonth() + 1) + \"-\" + aData.getDate();\n\t\t\t\twx.request({\n\t\t\t\t\turl: 'https://ys-group.cybozu.com/g/schedule/index.csp?&bdate=' + dateValue + '&gid=f7&p=',\n\t\t\t\t\tmethod:\"GET\",\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'cookie': wx.getStorageSync(\"CYBOZUCOOKIE\"),\n\t\t\t\t\t\t'Accept-Language': 'zh-CN,zh;q=0.9'\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(cybozuResults) {\n\t\t\t\t\t\tconsole.log(cybozuResults.data)\n\t\t\t\t\t\t// 截取会议室网页数据\n\t\t\t\t\t\tlet cutOverData = that.cutCoferenceRoomData(cybozuResults.data)\n\t\t\t\t\t\tthat.loadPercent = 70\n\t\t\t\t\t\t// 后台处理截取后数据，查询dom节点\n\t\t\t\t\t\tthat.makeCoferenceRoomData(cutOverData)\n\t\t\t\t\t},\n\t\t\t\t\tfail(e){\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t// that.requestError(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 截取会议室网页数据\n\t\t\tcutCoferenceRoomData(coferenceRoomData){\n\t\t\t\tlet startIndex = coferenceRoomData.indexOf('<tbody  id=\"event_list\">')\n\t\t\t\tlet endIndex = coferenceRoomData.indexOf('</tbody>',startIndex) + 8\n\t\t\t\tlet cutconferenceRoomData = coferenceRoomData.substring(startIndex,endIndex)\n\t\t\t\t\n\t\t\t\tlet reg=new RegExp('&nbsp;','g')\n\t\t\t\tcutconferenceRoomData = cutconferenceRoomData.replace(reg,\"\")\n\t\t\t\tconsole.log(cutconferenceRoomData)\n\t\t\t\treturn cutconferenceRoomData\n\t\t\t},\n\t\t\t// 后台处理截取后数据，查询dom节点\n\t\t\tmakeCoferenceRoomData(cutOverData){\n\t\t\t\tconst that = this\n\t\t\t\tthat.$api.post(makeCoferenceRoomDataApi, {\n\t\t\t\t\tdata:cutOverData\n\t\t\t\t}).then(res => {\n\t\t\t\t    console.log(res.data)\n\t\t\t\t    that.loadPercent = 90\n\t\t\t\t    that.dateArray = res.data\n\t\t\t\t    that.conferenceArray = that.dataMake(res.data)\n\t\t\t\t    that.loadPercent = 100\n\t\t\t\t    that.chooseDate = res.data[that.showIndex][0]\n\t\t\t\t    setTimeout(()=>{\n\t\t\t\t    \tthat.showPopFlg = false\n\t\t\t\t    },500);\n\t\t\t\t}).catch(err => {\n\t\t\t\t    console.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 会议室数据做成\n\t\t\tdataMake(data) {\n\t\t\t\tlet result = []\n\t\t\t\tfor(let i=0;i<data.length;i++){\n\t\t\t\t\tlet item = data[i][1]\n\t\t\t\t\tresult[i] = [[\"add\"]]\n\t\t\t\t\tif(item.length === 1){\n\t\t\t\t\t\t// 空\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}else if(item.length === 2){\n\t\t\t\t\t\t// 红日子\n\t\t\t\t\t\tresult[i].push([\"red\",item[0]])\n\t\t\t\t\t}else if(item.length > 2 ){\n\t\t\t\t\t\t// 会议室安排\n\t\t\t\t\t\tfor(let j=0;j<(item.length - 1)/2;j++){\n\t\t\t\t\t\t\tresult[i].push([item[(j * 2) + 1],item[(j * 2) + 2]])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(result)\n\t\t\t\treturn result\n\t\t\t},\n\t\t\tdateChange(i,item){\n\t\t\t\tthis.colorArray = [[\"\",\"\"],[\"\",\"\"],[\"\",\"\"],[\"\",\"\"],[\"\",\"\"],[\"\",\"\"],[\"\",\"\"]]\n\t\t\t\tthis.colorArray[i] = ['rgb(180,27,18)','#fff']\n\t\t\t\tthis.$forceUpdate()\n\t\t\t\tthis.chooseDate = item[0]\n\t\t\t\tthis.showIndex = i\n\t\t\t\tconsole.log(this.dateArray[this.showIndex])\n\t\t\t},\n\t\t\tconferenceRoomAddJump(){\n\t\t\t\tconst that = this\n\t\t\t\tlet dd = new Date()\n\t\t\t\tdd.setDate(dd.getDate() + that.showIndex)\n\t\t\t\tlet y = dd.getFullYear();\n\t\t\t\tlet m = (dd.getMonth() + 1) < 10 ? \"0\" + (dd.getMonth() + 1) : (dd.getMonth() + 1); //获取当前月份的日期，不足10补0  \n\t\t\t\tlet d = dd.getDate() < 10 ? \"0\" + dd.getDate() : dd.getDate(); //获取当前几号，不足10补0  \n\t\t\t\tlet date = y + \"-\" + m + \"-\" + d\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../conferenceRoomAdd/conferenceRoomAdd?date=' + date,\n\t\t\t\t\tsuccess: res => {},\n\t\t\t\t\tfail: () => {},\n\t\t\t\t\tcomplete: () => {}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 显示info弹窗\n\t\t\tshowInfo(info){\n\t\t\t\tthis.errorMessage = info\n\t\t\t\tthis.successOpacity = 1\n\t\t\t\tsetTimeout(()=>{   //设置延迟执行\n\t\t\t\t\tthis.successOpacity = 0\n\t\t\t\t},1500);\n\t\t\t}\n\t\t},\n\t\tonLoad(option) {\n\t\t\tthis.refreshFlg = option.refresh\n\t\t},\n\t\tonShow(){\n\t\t\tif(this.refreshFlg){\n\t\t\t\tthis.getCookieAndToken()\n\t\t\t}\n\t\t\tif(this.applySuccess){\n\t\t\t\tthis.showInfo(\"预约成功\")\n\t\t\t\tthis.applySuccess = false\n\t\t\t}\n\t\t\tthis.refreshFlg = false\n\t\t}\n\t}\n</script>\n\n<style>\n\t.view-main{\n\t\twidth: 100%;\n\t\theight: 100vh;\n\t\tbackground-color: #f1f1f1;\n\t}\n\t\n\t.view-dateList{\n\t\twidth: 100%;\n\t\theight: 80px;\n\t\tbackground-color: white;\n\t}\n\t\n\t.view-item{\n\t\tfloat: left;\n\t\twidth: 14.28%;\n\t}\n\t\n\t.view-week{\n\t\twidth: 100%;\n\t\theight: 35px;\n\t\ttext-align: center;\n\t\tline-height: 35px;\n\t}\n\t\n\t.view-date{\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\ttext-align: center;\n\t\tline-height: 30px;\n\t}\n\t\n\t.view-back{\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\tmargin: auto;\n\t\tborder-radius: 50%;\n\t}\n\t\n\t.view-point{\n\t\twidth: 100%;\n\t\theight: 10px;\n\t\tline-height: 10px;\n\t}\n\t\n\t.point{\n\t\twidth: 4px;\n\t\theight: 4px;\n\t\tbackground-color: #646566;\n\t\tborder-radius: 50%;\n\t\tmargin: 3px auto;\n\t}\n\t\n\t.view-dateShow{\n\t\twidth:100%;\n\t\theight: 25px;\n\t\tbackground: white;\n\t\tbox-shadow:0 5px 10px -5px #7A7E83;\n\t\tmargin-top: 5px;\n\t\ttext-align: center;\n\t\tline-height: 25px;\n\t}\n\n\t.view-conferenceInfo{\n\t\tpadding: 0 5px;\n\t}\n\t\n\t.view-add{\n\t\twidth: calc(100% - 10px);\n\t\theight: 40px;\n\t\tbackground-color: rgb(180,27,18);\n\t\ttext-align: center;\n\t\tline-height: 40px;\n\t\tmargin-top: 5px;\n\t\tborder-radius: 2%;\n\t\tmargin-bottom: 5px;\n\t\tmargin-left: 5px;\n\t}\n\t\n\t.view-info{\n\t\twidth: 100%;\n\t\theight: 120px;\n\t\tbackground-color: white;\n\t\tborder-radius: 2%;\n\t\tmargin-bottom: 5px;\n\t}\n\t\n\t.view-detail{\n\t\tfloat: left;\n\t\twidth: calc(100% - 101px);\n\t\theight: 100%;\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\t\n\t.view-time{\n\t\tfloat: left;\n\t\tjustify-content: center;\n\t\twidth: 100px;\n\t\theight: 100%;\n\t\tborder-right: 1px solid rgb(180,27,18);\n\t\ttext-align: center;\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t}\n\t\n\t.popup_view{\n\t\tz-index: 2;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: rgba(0,0,0,0.4);\n\t\tline-height: 100vh;\n\t\ttext-align: center;\n\t}\n\t\n\t.progress{\n\t\twidth: 200px;\n\t\tmargin: auto;\n\t}\n\t\n\t.popup_success{\n\t\ttext-align: center;\n\t\twidth: 100vw;\n\t\theight: 30px;\n\t\tline-height: 30px;\n\t\tbackground-color: rgb(180,27,18);\n\t\tcolor: white;\n\t\ttransition: opacity 1s linear;\n\t\tposition: absolute\n\t}\n\t\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conferenceRoom.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conferenceRoom.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1618383499230\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}